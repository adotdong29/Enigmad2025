{"ast":null,"code":"const gameReducer = (state, action) => {\n  switch (action.type) {\n    case 'TOGGLE_DOT':\n      const newDots = new Set(state.selectedDots);\n      const dotId = `${action.row}-${action.col}`;\n      if (newDots.has(dotId)) {\n        newDots.delete(dotId);\n      } else {\n        newDots.add(dotId);\n      }\n      return {\n        ...state,\n        selectedDots: newDots\n      };\n    case 'START_BOMBE':\n      return {\n        ...state,\n        isRunning: true,\n        showSolution: false,\n        decryptionKey: ''\n      };\n    case 'FINISH_BOMBE':\n      return {\n        ...state,\n        isRunning: false,\n        showSolution: true,\n        decryptionKey: action.key\n      };\n    case 'SET_USER_ANSWER':\n      return {\n        ...state,\n        userAnswer: action.answer\n      };\n    case 'ANSWER_CORRECT':\n      return {\n        ...state,\n        score: state.score + action.score\n      };\n    case 'ANSWER_INCORRECT':\n      return {\n        ...state,\n        errors: state.errors + 1\n      };\n    case 'NEXT_LEVEL':\n      return {\n        ...state,\n        currentLevel: state.currentLevel + 1,\n        selectedDots: new Set(),\n        encryptedMessage: action.message,\n        decryptionKey: '',\n        isRunning: false,\n        showSolution: false,\n        userAnswer: ''\n      };\n    case 'GAME_COMPLETE':\n      return {\n        ...state,\n        gameComplete: true\n      };\n    default:\n      return state;\n  }\n};","map":{"version":3,"names":["gameReducer","state","action","type","newDots","Set","selectedDots","dotId","row","col","has","delete","add","isRunning","showSolution","decryptionKey","key","userAnswer","answer","score","errors","currentLevel","encryptedMessage","message","gameComplete"],"sources":["/Users/qdong/Desktop/Enigmadv4/src/contexts/GameContext.js"],"sourcesContent":["const gameReducer = (state, action) => {\n  switch (action.type) {\n    case 'TOGGLE_DOT':\n      const newDots = new Set(state.selectedDots);\n      const dotId = `${action.row}-${action.col}`;\n      if (newDots.has(dotId)) {\n        newDots.delete(dotId);\n      } else {\n        newDots.add(dotId);\n      }\n      return { ...state, selectedDots: newDots };\n\n    case 'START_BOMBE':\n      return { \n        ...state, \n        isRunning: true,\n        showSolution: false,\n        decryptionKey: ''\n      };\n\n    case 'FINISH_BOMBE':\n      return {\n        ...state,\n        isRunning: false,\n        showSolution: true,\n        decryptionKey: action.key\n      };\n\n    case 'SET_USER_ANSWER':\n      return {\n        ...state,\n        userAnswer: action.answer\n      };\n\n    case 'ANSWER_CORRECT':\n      return {\n        ...state,\n        score: state.score + action.score\n      };\n\n    case 'ANSWER_INCORRECT':\n      return {\n        ...state,\n        errors: state.errors + 1\n      };\n\n    case 'NEXT_LEVEL':\n      return {\n        ...state,\n        currentLevel: state.currentLevel + 1,\n        selectedDots: new Set(),\n        encryptedMessage: action.message,\n        decryptionKey: '',\n        isRunning: false,\n        showSolution: false,\n        userAnswer: ''\n      };\n\n    case 'GAME_COMPLETE':\n      return {\n        ...state,\n        gameComplete: true\n      };\n\n    default:\n      return state;\n  }\n};"],"mappings":"AAAA,MAAMA,WAAW,GAAGA,CAACC,KAAK,EAAEC,MAAM,KAAK;EACrC,QAAQA,MAAM,CAACC,IAAI;IACjB,KAAK,YAAY;MACf,MAAMC,OAAO,GAAG,IAAIC,GAAG,CAACJ,KAAK,CAACK,YAAY,CAAC;MAC3C,MAAMC,KAAK,GAAG,GAAGL,MAAM,CAACM,GAAG,IAAIN,MAAM,CAACO,GAAG,EAAE;MAC3C,IAAIL,OAAO,CAACM,GAAG,CAACH,KAAK,CAAC,EAAE;QACtBH,OAAO,CAACO,MAAM,CAACJ,KAAK,CAAC;MACvB,CAAC,MAAM;QACLH,OAAO,CAACQ,GAAG,CAACL,KAAK,CAAC;MACpB;MACA,OAAO;QAAE,GAAGN,KAAK;QAAEK,YAAY,EAAEF;MAAQ,CAAC;IAE5C,KAAK,aAAa;MAChB,OAAO;QACL,GAAGH,KAAK;QACRY,SAAS,EAAE,IAAI;QACfC,YAAY,EAAE,KAAK;QACnBC,aAAa,EAAE;MACjB,CAAC;IAEH,KAAK,cAAc;MACjB,OAAO;QACL,GAAGd,KAAK;QACRY,SAAS,EAAE,KAAK;QAChBC,YAAY,EAAE,IAAI;QAClBC,aAAa,EAAEb,MAAM,CAACc;MACxB,CAAC;IAEH,KAAK,iBAAiB;MACpB,OAAO;QACL,GAAGf,KAAK;QACRgB,UAAU,EAAEf,MAAM,CAACgB;MACrB,CAAC;IAEH,KAAK,gBAAgB;MACnB,OAAO;QACL,GAAGjB,KAAK;QACRkB,KAAK,EAAElB,KAAK,CAACkB,KAAK,GAAGjB,MAAM,CAACiB;MAC9B,CAAC;IAEH,KAAK,kBAAkB;MACrB,OAAO;QACL,GAAGlB,KAAK;QACRmB,MAAM,EAAEnB,KAAK,CAACmB,MAAM,GAAG;MACzB,CAAC;IAEH,KAAK,YAAY;MACf,OAAO;QACL,GAAGnB,KAAK;QACRoB,YAAY,EAAEpB,KAAK,CAACoB,YAAY,GAAG,CAAC;QACpCf,YAAY,EAAE,IAAID,GAAG,CAAC,CAAC;QACvBiB,gBAAgB,EAAEpB,MAAM,CAACqB,OAAO;QAChCR,aAAa,EAAE,EAAE;QACjBF,SAAS,EAAE,KAAK;QAChBC,YAAY,EAAE,KAAK;QACnBG,UAAU,EAAE;MACd,CAAC;IAEH,KAAK,eAAe;MAClB,OAAO;QACL,GAAGhB,KAAK;QACRuB,YAAY,EAAE;MAChB,CAAC;IAEH;MACE,OAAOvB,KAAK;EAChB;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}